(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfb0d"],{6591:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticClass:"notice-change-edit-wrapper"},[n("Heading",{attrs:{name:"公告变更"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.fnCheckChangeRecord}},[e._v("变更记录")])],1),n("Descriptions",{attrs:{list:e.labelList,param:e.formData}}),n("audit-button",[n("a-button",{attrs:{type:"primary"},on:{click:e.fnView}},[e._v(" 预览 ")])],1),e.changeRecordVisible?n("a-modal",{attrs:{title:"变更记录",width:"80%",footer:null,centered:!0,maskClosable:!1,wrapClassName:"change-record-wrapper"},model:{value:e.changeRecordVisible,callback:function(t){e.changeRecordVisible=t},expression:"changeRecordVisible"}},[n("notice-change-record",{ref:"linkman",on:{"close-modal":e.fnCloseModal}})],1):e._e()],1)},a=[],o=(n("d3b7"),n("c1df")),c=n.n(o),r=n("35a4"),s={name:"notice-change-edit",components:{Heading:function(){return n.e("chunk-e2119ce0").then(n.bind(null,"8ab7"))},AuditButton:function(){return n.e("chunk-e290473a").then(n.bind(null,"66e3"))},NoticeChangeRecord:function(){return n.e("chunk-02c0b570").then(n.bind(null,"556e"))},Descriptions:function(){return n.e("chunk-645cdc36").then(n.bind(null,"57e4"))}},data:function(){return{form:this.$form.createForm(this),formData:{},changeRecordVisible:!1,tinymceRefresh:!0,labelList:[{label:"公告标题",key:"noticeTitle",show:!0,span:3},{label:"标书售卖开始时间",key:"bidSaletimeStart",show:!0},{label:"标书售卖截止时间",key:"bidSaletimeEnd",show:!0},{label:"投标截止时间",key:"tenderOffTime",show:!0},{label:"内容",key:"noticeContent",show:!0,tinymce:!0,span:3}]}},created:function(){this.fnGetDetailInfo()},activated:function(){this.fnGetDetailInfo()},computed:{projectId:function(){return this.$route.params.id},noticeChangeId:function(){return this.$route.query.ncid}},methods:{moment:c.a,fnGetDetailInfo:function(){var e=this,t={projectId:this.projectId,noticeChangeId:this.noticeChangeId};Object(r["bb"])(t).then((function(t){var n=t.data;"0000"==n.errCode?(e.formData=n.responseResult||{},e.tinymceRefresh=!1,e.$nextTick((function(){e.tinymceRefresh=!0}))):e.$error({content:e.BASE.handleErrorMsg(n)})}))},fnView:function(){this.formData.noticeContext=this.formData.noticeContent,this.$router.push({path:"/notice-preview/".concat(this.formData.projectId),query:{formData:JSON.stringify(this.formData)}})},fnCheckChangeRecord:function(){this.changeRecordVisible=!0},fnCloseModal:function(){this.changeRecordVisible=!1}}},l=s,h=n("2877"),d=Object(h["a"])(l,i,a,!1,null,null,null);t["default"]=d.exports}}]);