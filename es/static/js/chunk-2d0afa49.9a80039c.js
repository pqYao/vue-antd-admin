(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afa49"],{"0eca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"file-table-wrapper"},[a("a-card",[a("Heading",{attrs:{name:t.tableName},scopedSlots:t._u([{key:"leftIcon",fn:function(){return[a("a-popover",{attrs:{placement:"bottom"}},[a("template",{slot:"content"},[a("p",[t._v("系统支持mht/rar/zip格式的附件上传，最大不能超30M。")])]),a("a-icon",{attrs:{type:"question-circle"}})],2)]},proxy:!0}])},[1==t.pageType?a("div",[a("a-upload",{attrs:{showUploadList:!1,multiple:!1,fileList:t.fileList,accept:".mht,.rar,.zip","before-upload":t.beforeUpload}},[a("a-button",{attrs:{type:"primary"}},[a("i",{class:["iconfont","icon-baocun"]}),t._v(" 上传 ")])],1),a("a-button",{attrs:{type:"primary"},on:{click:t.fnDelete}},[a("i",{class:["iconfont","icon-weibiaoti544"]}),t._v(" 删除 ")])],1):t._e()]),a("a-table",{staticClass:"es-table",attrs:{bordered:"",size:"small",rowKey:"subtenderId",loading:t.pageData.loading,pagination:!1,columns:t.columns,dataSource:t.dataSource,scroll:{x:!0}},scopedSlots:t._u([{key:"paymentVoucher",fn:function(e){return[a("a",[t._v(t._s(e))])]}},{key:"action",fn:function(e,n){return 1==t.pageType?[a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleAction(n.projectId,0)}}},[t._v(" 线上付款 ")]),a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleAction(n.projectId,1)}}},[t._v(" 线下付款 ")]),a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleAction(n.projectId,2)}}},[t._v(" 取消付款 ")]),a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleAction(n.projectId,2)}}},[t._v(" 下载采购文件 ")]),a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(e){return t.handleAction(n.projectId,3)}}},[t._v(" 上传付款凭证 ")])]:void 0}}],null,!0)}),0==t.pageType?a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageData.total>0,expression:"pageData.total > 0"}],attrs:{value:t.pageData.page,pageSize:t.pageData.limit,total:t.pageData.total},on:{change:t.sizeChange,showSizeChange:t.pageChange}}):t._e()],1)],1)},i=[],o=(a("a434"),a("a9e3"),a("d3b7"),a("2909")),c=a("6769"),r={name:"file-table",components:{Heading:function(){return a.e("chunk-e2119ce0").then(a.bind(null,"8ab7"))},pagination:function(){return a.e("chunk-03edaf33").then(a.bind(null,"325f"))}},props:{pageType:{type:[String,Number],default:0},tableName:{type:String,default:""}},data:function(){return{fileList:[],pageData:{limit:15,total:0,page:1,loading:!1},dataSource:[],columns:[],columnsData:[{title:"序号",dataIndex:"number",align:"center",customRender:function(t,e,a){return"".concat(a+1)},width:80},{title:"标名",dataIndex:"subtenderName",width:100},{title:"包名",dataIndex:"1",width:100},{title:"采购文件",dataIndex:"2",width:160,align:"center"},{title:"费用",dataIndex:"3",width:140,align:"right"},{title:"付款方式",dataIndex:"33",width:100,align:"center"},{title:"付款状态",dataIndex:"44",width:120,align:"center"},{title:"付款时间",dataIndex:"4411",width:120,align:"center"},{title:"付款凭证",dataIndex:"paymentVoucher",width:130,align:"center",scopedSlots:{customRender:"paymentVoucher"}},{title:"操作",align:"center",scopedSlots:{customRender:"action"},width:80}]}},created:function(){this.fnInit()},computed:{projectId:function(){return this.$route.params.id}},methods:{fnInit:function(){this.columns=[];var t=Object(o["a"])(this.columnsData),e=this.columnsData.length-1;0==this.pageType&&t.splice(e,1),this.columns=Object(o["a"])(t)},fnGetData:function(t){var e=this,a={limit:this.pageData.limit,page:this.pageData.page};this.pageData.loading=!0,Object(c["j"])(a).then((function(a){var n=a.data||{},i=n.responseResult||{};if("0000"==n.errCode){var o=i.data,c=i.total;e.dataSource=o,e.pageData.total=Number(c),"refresh"==t&&e.$message.success("刷新成功",3)}else e.$error({title:"错误提示",content:e.BASE.handleErrorMsg(n)});e.pageData.loading=!1}))},fnFresh:function(){this.fnGetData("refresh")},handleAction:function(t,e){switch(e){case 0:break;case 1:break;case 2:break;case 3:break}},beforeUpload:function(t){return this.fileList=[t],this.fnUpload(),!1},fnUpload:function(){},fnDelete:function(){},sizeChange:function(t,e){this.pageData.page=t,this.pageData.limit=e,this.fnGetData()},pageChange:function(t,e){this.pageData.page=t,this.pageData.limit=e,this.fnGetData()}}},l=r,s=a("2877"),p=Object(s["a"])(l,n,i,!1,null,null,null);e["default"]=p.exports}}]);