<template>
  <div>
    <project-info 
      id="项目信息"
      url="/other/prepare/detail" 
      :projectData="formData">
    </project-info>
  </div>
</template>
<script>
import ProjectInfo from "@/components/descriptions/ProjectInfo";
import { findSubContractForProject } from "@/services/other";

export default {
  name: 'sub-contract-project',
  components: { ProjectInfo },
  data() {
    return {
      formData: {}
    };
  },
  created() {
    this.findInfo();
  },
  methods: {
    findInfo() {
      findSubContractForProject(this.$route.params.id).then(res => {
        const resData = res.data;
        if (resData.errCode == "0000") {
          const { responseResult } = resData;
          this.formData = responseResult;
        } else {
          this.$error({
            title: "错误提示",
            content: this.BASE.handleErrorMsg(resData)
          });
        }
      });
    }
  }
};
</script>
