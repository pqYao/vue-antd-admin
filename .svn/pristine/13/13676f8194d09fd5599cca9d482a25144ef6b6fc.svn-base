<template>
  <div>
    <span id="基本信息"> </span>
    <BaseEdit @send-data="getData"></BaseEdit>
    <!-- <file id="附件管理"></file> -->
    <span id="项目情况说明"> </span>
    <Explain :baseData="baseData"></Explain>
    <span id="产品明细"> </span>
    <Product :baseData="baseData"></Product>
    <AuditButton v-if="!BASE.ObjectIsNull(baseData)">
      <a-button type="primary">
        立项完成
      </a-button>
      <a-button type="primary">
        提交审批
      </a-button>
    </AuditButton>
    <Anchor :anchorList="anchorList"> </Anchor>
  </div>
</template>
<script>
import { mapGetters } from "vuex";
import BaseEdit from "./components/BaseEdit";
// import file from "./components/file";
import Product from "./components/Product";
import Anchor from "@/components/anchor/Anchor";
import Explain from "./components/Explain";
import AuditButton from "@/components/button/AuditButton";

export default {
  components: { BaseEdit, Anchor, Explain, Product, AuditButton },
  data() {
    return {
      anchorList: ["基本信息", "附件管理", "项目情况说明", "产品明细"],
      baseData: {}
    };
  },
  computed: {
    ...mapGetters("account", ["collapsed"])
  },
  watch: {
    baseData: {
      handler(val) {
        return val;
      },
      immediate: true,
      deep: true
    }
  },
  methods: {
    getData(data) {
      this.baseData = data;
    }
  }
};
</script>
